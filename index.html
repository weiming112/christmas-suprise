<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scrolling Christmas Surprise</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
<style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  html {
    scroll-behavior: smooth;
    scroll-snap-type: y mandatory;
    overflow-y: scroll;
  }
  
  body {
    font-family: 'Inter', sans-serif;
    background: #0a0a0a;
    color: white;
    overflow-x: hidden;
  }
  
  section {
    min-height: 100vh;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 80px 20px;
    position: relative;
    scroll-snap-align: start;
    scroll-snap-stop: always;
  }
  
  .text {
    max-width: 800px;
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 500;
    line-height: 1.4;
  }
  
  .text span {
    display: inline-block;
    opacity: 0;
    transform: translateY(100px) rotateX(-90deg);
    filter: blur(10px);
    transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    will-change: transform, opacity, filter;
  }
  
  .text.active span {
    opacity: 1;
    transform: translateY(0) rotateX(0deg);
    filter: blur(0);
  }

  /* Gold Gradient and Shimmer for Final Message */
  .final-message .text {
    background: linear-gradient(to right, #bf953f 20%, #fcf6ba 40%, #b38728 60%, #fcf6ba 80%, #bf953f 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: goldShimmer 4s linear infinite;
  }

  @keyframes goldShimmer {
    to { background-position: 200% center; }
  }

  /* Glassy Button Effect */
  .glass-btn {
    margin-top: 40px;
    padding: 16px 32px;
    font-family: 'Inter', sans-serif;
    font-size: 1.1rem;
    color: white;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    opacity: 0;
    transform: translateY(20px);
    z-index: 100;
  }

  .active .glass-btn {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 1.2s;
  }

  .glass-btn:hover {
    background: rgba(255, 255, 255, 0.12);
    border: 1px solid rgba(255, 255, 255, 0.4);
    transform: scale(1.05) translateY(-2px);
    box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.5);
  }

  #predictionDisplay {
    margin-top: 25px;
    font-size: 1.3rem;
    color: #fcf6ba;
    font-style: italic;
    font-weight: 300;
    min-height: 2em;
    max-width: 600px;
    transition: opacity 0.5s ease;
  }
  
  #treeSection {
    background: radial-gradient(ellipse at center, #1a1a2e 0%, #0a0a0a 70%);
    position: relative;
    overflow: hidden;
  }
  
  .tree-hint {
    position: absolute;
    bottom: 50px;
    left: 50%;
    transform: translateX(-50%);
    color: rgba(255, 215, 0, 0.8);
    font-size: 1.2rem;
    font-weight: 300;
    text-align: center;
    z-index: 10;
    animation: hintFade 3s ease-in-out infinite;
    pointer-events: none;
  }
  
  @keyframes hintFade {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 1; }
  }
  
  canvas {
    display: block;
    width: 100%;
    height: 100%;
    cursor: none;
    touch-action: none;
  }
  
  .cursor {
    width: 30px;
    height: 30px;
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    transition: all 0.15s ease;
    will-change: transform;
  }
  
  .cursor::before {
    content: '‚≠ê';
    font-size: 24px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    filter: drop-shadow(0 0 10px rgba(255, 215, 0, 1));
    animation: starPulse 1.5s ease-in-out infinite;
  }
  
  @keyframes starPulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1) rotate(0deg); }
    50% { transform: translate(-50%, -50%) scale(1.2) rotate(180deg); }
  }
  
  .final-message {
    background: #0a0a0a;
    position: relative;
  }
  
  .snow-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
  }
  
  .snowflake {
    position: absolute;
    background: white;
    border-radius: 50%;
    opacity: 0.8;
    animation: fall linear forwards;
  }
  
  @keyframes fall {
    to {
      transform: translateY(100vh) translateX(var(--drift));
      opacity: 0;
    }
  }
</style>
</head>
<body>
<div class="cursor"></div>
<div class="snow-overlay" id="snowOverlay"></div>

<section>
  <div class="text" data-text="Hey"></div>
</section>

<section>
  <div class="text" data-text="I made this just for you"></div>
</section>

<section>
  <div class="text" data-text="Each part appears intentionally|like a little surprise"></div>
</section>

<section>
  <div class="text" data-text="Keep scrolling...|something magical awaits"></div>
</section>

<section id="treeSection">
  <canvas id="treeCanvas"></canvas>
  <div class="tree-hint">Click anywhere for fireworks</div>
</section>

<section class="final-message">
  <div class="text" data-text="Merry Christmas‚ù§Ô∏è|May your holidays sparkle with joy" style="position: relative; z-index: 1;"></div>
  <button class="glass-btn" onclick="revealPrediction()">Reveal my 2026 Prediction</button>
  <div id="predictionDisplay"></div>
</section>

<script>
  const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
  const STAR_COUNT = isMobile ? 300 : 500;
  const PARTICLE_LIMIT = isMobile ? 50 : 100;
  
  // Text Animation Setup
  document.querySelectorAll('.text[data-text]').forEach(el => {
    const text = el.getAttribute('data-text');
    const lines = text.split('|');
    el.innerHTML = '';
    
    lines.forEach((line, lineIndex) => {
      if (lineIndex > 0) el.appendChild(document.createElement('br'));
      const chars = line.split('');
      chars.forEach((char, i) => {
        const span = document.createElement('span');
        span.textContent = char === ' ' ? '\u00A0' : char;
        span.style.transitionDelay = `${(lineIndex * chars.length + i) * 0.025}s`;
        el.appendChild(span);
      });
    });
  });
  
  // Custom Cursor
  const cursor = document.querySelector('.cursor');
  let mouseX = 0, mouseY = 0;
  let cursorX = 0, cursorY = 0;
  
  document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });
  
  function animateCursor() {
    cursorX += (mouseX - cursorX) * 0.2;
    cursorY += (mouseY - cursorY) * 0.2;
    cursor.style.left = cursorX + 'px';
    cursor.style.top = cursorY + 'px';
    requestAnimationFrame(animateCursor);
  }
  if (!isMobile) animateCursor();
  
  // Observer for section entry
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && entry.intersectionRatio >= 0.5) {
        entry.target.classList.add('active');
      }
    });
  }, { threshold: 0.5 });
  
  document.querySelectorAll('section, .text').forEach(el => observer.observe(el));

  // 2026 Prediction Function
  function revealPrediction() {
    const predictions = [
      "2026 will be the year your biggest spark turns into a flame. üî•",
      "Expect a major travel adventure in the second half of 2026. ‚úàÔ∏è",
      "A creative project you've been dreaming of will finally take flight. üé®",
      "2026 brings deep connections and unexpected new friendships. ü§ù",
      "Your hard work in 2025 will result in a huge 'win' by March 2026. üèÜ",
      "This is the year of balance: perfect harmony between work and play. ‚öñÔ∏è",
      "An old dream will resurface with a new, exciting twist. ‚ú®"
    ];

    const display = document.getElementById('predictionDisplay');
    const randomPrediction = predictions[Math.floor(Math.random() * predictions.length)];
    
    display.style.opacity = 0;
    setTimeout(() => {
      display.innerText = randomPrediction;
      display.style.opacity = 1;
    }, 300);
    
    // Add firework effect on click
    createExplosion(window.innerWidth/2, window.innerHeight/2 + 150, 20);
  }
  
  // Canvas Logic
  const canvas = document.getElementById('treeCanvas');
  const ctx = canvas.getContext('2d', { alpha: false });
  let stars = [], particles = [];
  
  function resizeCanvas() {
    const dpr = Math.min(window.devicePixelRatio || 1, 2);
    canvas.width = window.innerWidth * dpr;
    canvas.height = window.innerHeight * dpr;
    canvas.style.width = window.innerWidth + 'px';
    canvas.style.height = window.innerHeight + 'px';
    ctx.scale(dpr, dpr);
    initStars();
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();
  
  function initStars() {
    stars = [];
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;
    const treeHeight = Math.min(window.innerHeight * 0.8, 650);
    const treeWidth = treeHeight * 0.85;
    
    for (let i = 0; i < STAR_COUNT; i++) {
      const progress = i / STAR_COUNT;
      const y = centerY - treeHeight / 2 + progress * treeHeight;
      const radiusAtY = (progress * treeWidth) / 2;
      const theta = Math.random() * Math.PI * 2;
      const radius = Math.random() * radiusAtY;
      const x = centerX + Math.cos(theta) * radius;
      const z = Math.sin(theta) * radius;
      
      stars.push({
        x, y, baseX: x, baseY: y, baseZ: z, baseRadius: radius, baseTheta: theta,
        angle: Math.random() * Math.PI * 2, orbitRadius: 25 + Math.random() * 15,
        speed: 0.002 + Math.random() * 0.003, radius: 1.2 + Math.random() * 2,
        hue: 40 + Math.random() * 20, brightness: 0.7 + Math.random() * 0.3,
        vx: 0, vy: 0, ovx: 0, ovy: 0
      });
    }
    // Star on Top
    stars.push({
      x: centerX, y: centerY - treeHeight / 2 - 35, baseX: centerX, baseY: centerY - treeHeight / 2 - 35,
      baseZ: 0, baseRadius: 0, baseTheta: 0, angle: 0, orbitRadius: 0, speed: 0.008,
      radius: 9, hue: 50, brightness: 1, isTop: true, vx: 0, vy: 0, ovx: 0, ovy: 0
    });
  }

  function createExplosion(x, y, count = 25) {
    for (let i = 0; i < count; i++) {
      const angle = (Math.PI * 2 * i) / count;
      const velocity = 3 + Math.random() * 3;
      particles.push({
        x, y, vx: Math.cos(angle) * velocity, vy: Math.sin(angle) * velocity,
        life: 1, hue: Math.random() * 360, size: 2 + Math.random() * 3
      });
    }
  }

  canvas.addEventListener('click', (e) => {
    createExplosion(e.clientX, e.clientY, 30);
  });

  function drawStars() {
    ctx.fillStyle = '#0a0a0a';
    ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);
    
    particles.forEach((p, i) => {
      p.x += p.vx; p.y += p.vy; p.vy += 0.2; p.life -= 0.018;
      if (p.life <= 0) particles.splice(i, 1);
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.size * p.life, 0, Math.PI * 2);
      ctx.fillStyle = `hsla(${p.hue}, 100%, 60%, ${p.life})`;
      ctx.fill();
    });

    const centerX = window.innerWidth / 2;
    const globalRotation = Date.now() * 0.0003;
    
    stars.forEach(star => {
      if (!star.isTop) {
        const rotationAngle = star.baseTheta + globalRotation;
        const rotatedX = Math.cos(rotationAngle) * star.baseRadius;
        const rotatedZ = Math.sin(rotationAngle) * star.baseRadius;
        star.baseX = centerX + rotatedX;
        star.depthScale = 0.5 + (rotatedZ / (window.innerHeight * 0.4) + 1) * 0.25;
      }
      
      star.angle += star.speed;
      const targetX = star.baseX + Math.cos(star.angle) * star.orbitRadius;
      const targetY = star.baseY + Math.sin(star.angle) * star.orbitRadius * 0.3;
      
      star.x += (targetX - star.x) * 0.1;
      star.y += (targetY - star.y) * 0.1;
      
      ctx.beginPath();
      const finalRadius = star.radius * (star.depthScale || 1);
      ctx.arc(star.x, star.y, finalRadius, 0, Math.PI * 2);
      
      if (star.isTop) {
        ctx.fillStyle = `hsla(50, 100%, 75%, ${Math.sin(Date.now()*0.004)*0.3+0.7})`;
      } else {
        ctx.fillStyle = `hsla(${star.hue}, 100%, 70%, ${0.5 + (star.depthScale || 1) * 0.5})`;
      }
      ctx.fill();
    });
    requestAnimationFrame(drawStars);
  }
  drawStars();
  
  setInterval(() => {
    const snowflake = document.createElement('div');
    snowflake.className = 'snowflake';
    const size = 3 + Math.random() * 5;
    snowflake.style.width = size + 'px';
    snowflake.style.height = size + 'px';
    snowflake.style.left = Math.random() * 100 + '%';
    snowflake.style.setProperty('--drift', (Math.random() - 0.5) * 100 + 'px');
    snowflake.style.animationDuration = (3 + Math.random() * 4) + 's';
    document.getElementById('snowOverlay').appendChild(snowflake);
    setTimeout(() => snowflake.remove(), 7000);
  }, 150);
</script>
</body>
</html>
