<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Magical 2026 Surprise</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
<style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  html {
    scroll-behavior: smooth;
    scroll-snap-type: y mandatory;
    overflow-y: scroll;
  }
  
  body {
    font-family: 'Inter', sans-serif;
    background: #0a0a0a;
    color: white;
    overflow-x: hidden;
  }
  
  section {
    min-height: 100vh;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 80px 20px;
    position: relative;
    scroll-snap-align: start;
    scroll-snap-stop: always;
  }
  
  /* Apple-Style Text Animation Styles */
  .text {
    max-width: 800px;
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 500;
    line-height: 1.4;
    perspective: 1000px;
  }
  
  .text span {
    display: inline-block;
    opacity: 0;
    transform: translateY(60px) rotateX(-25deg);
    filter: blur(10px);
    will-change: transform, opacity, filter;
  }
  
  /* Tree Section */
  #treeSection {
    background: radial-gradient(ellipse at center, #1a1a2e 0%, #0a0a0a 70%);
    position: relative;
    overflow: hidden;
  }
  
  canvas {
    display: block;
    width: 100%;
    height: 100%;
    cursor: none;
    touch-action: none;
  }

  .tree-hint {
    position: absolute;
    bottom: 50px;
    left: 50%;
    transform: translateX(-50%);
    color: rgba(255, 215, 0, 0.8);
    font-size: 1.2rem;
    font-weight: 300;
    animation: hintFade 3s ease-in-out infinite;
    pointer-events: none;
  }

  @keyframes hintFade {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 1; }
  }
  
  /* Prediction Button Styles */
  .prediction-container {
    margin-top: 2.5rem;
    position: relative;
    z-index: 10;
  }

  .magic-btn {
    background: rgba(255, 215, 0, 0.1);
    border: 1px solid rgba(255, 215, 0, 0.5);
    color: #ffd700;
    padding: 18px 40px;
    font-family: 'Inter', sans-serif;
    font-size: 1.1rem;
    border-radius: 50px;
    cursor: pointer;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.1);
  }

  .magic-btn:hover {
    background: rgba(255, 215, 0, 0.25);
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.4);
    transform: scale(1.05);
  }

  .prediction-output {
    margin-top: 25px;
    font-size: clamp(1.2rem, 3vw, 1.8rem);
    color: #fff;
    min-height: 1.6em;
    font-weight: 300;
    text-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
    transition: opacity 0.5s ease;
  }

  /* Cursor & Snow */
  .cursor {
    width: 30px; height: 30px;
    position: fixed; pointer-events: none; z-index: 9999;
    transition: all 0.1s ease;
  }
  .cursor::before {
    content: '‚≠ê'; font-size: 24px; position: absolute;
    top: 50%; left: 50%; transform: translate(-50%, -50%);
    filter: drop-shadow(0 0 10px gold);
  }
  
  .snow-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 9998;
  }
  .snowflake {
    position: absolute; background: white; border-radius: 50%;
    opacity: 0.8; animation: fall linear forwards;
  }
  @keyframes fall { to { transform: translateY(100vh) translateX(var(--drift)); opacity: 0; } }

  @media (pointer: coarse) { .cursor { display: none; } canvas { cursor: default; } }
</style>
</head>
<body>

<div class="cursor"></div>
<div class="snow-overlay" id="snowOverlay"></div>

<section>
  <div class="text" data-text="Hey"></div>
</section>

<section>
  <div class="text" data-text="I made this just for you"></div>
</section>

<section>
  <div class="text" data-text="Scroll slowly...|feel the magic unfold"></div>
</section>

<section id="treeSection">
  <canvas id="treeCanvas"></canvas>
  <div class="tree-hint">Interact with the tree</div>
</section>

<section class="final-message">
  <div class="text" data-text="Merry Christmas‚ù§Ô∏è"></div>
  <div class="prediction-container">
    <button id="predictBtn" class="magic-btn">Reveal My 2026</button>
    <div id="predictionText" class="prediction-output"></div>
  </div>
</section>

<script>
  // --- TEXT SPLITTING ---
  document.querySelectorAll('.text[data-text]').forEach(el => {
    const lines = el.getAttribute('data-text').split('|');
    el.innerHTML = '';
    lines.forEach((line, li) => {
      if (li > 0) el.appendChild(document.createElement('br'));
      line.split('').forEach((char, i) => {
        const span = document.createElement('span');
        span.textContent = char === ' ' ? '\u00A0' : char;
        el.appendChild(span);
      });
    });
  });

  // --- APPLE-STYLE SCROLL ANIMATION ---
  window.addEventListener('scroll', () => {
    const sections = document.querySelectorAll('section:not(#treeSection)');
    sections.forEach(section => {
      const rect = section.getBoundingClientRect();
      const viewHeight = window.innerHeight;
      
      // Calculate progress (0 entering bottom, 1 centered)
      let progress = 1 - (rect.top / viewHeight);
      progress = Math.max(0, Math.min(1.2, progress)); 

      const spans = section.querySelectorAll('.text span');
      spans.forEach((span, i) => {
        const stagger = i * 0.03;
        const letterProgress = Math.max(0, Math.min(1, (progress - stagger) * 2.5));
        
        span.style.opacity = letterProgress;
        span.style.filter = `blur(${10 * (1 - letterProgress)}px)`;
        span.style.transform = `translateY(${60 * (1 - letterProgress)}px) rotateX(${-25 * (1 - letterProgress)}deg)`;
      });
    });
  });

  // --- PREDICTION LOGIC ---
  const predictions = [
    "2026: A year of unexpected travel and new horizons. ‚úàÔ∏è",
    "2026: Your hard work finally turns into a golden opportunity. üåü",
    "2026: A year of deep connections and meaningful laughter. ‚ú®",
    "2026: You will master a skill you haven't even started yet. üìö",
    "2026: A season of peace, health, and total clarity. üåø",
    "2026: Your creativity will reach levels you never imagined. üé®",
    "2026: A surprise blessing is heading your way. üéÅ"
  ];

  document.getElementById('predictBtn').addEventListener('click', (e) => {
    const rect = e.target.getBoundingClientRect();
    createExplosion(rect.left + rect.width/2, rect.top + rect.height/2, 30);
    
    const output = document.getElementById('predictionText');
    output.style.opacity = 0;
    setTimeout(() => {
      output.textContent = predictions[Math.floor(Math.random() * predictions.length)];
      output.style.opacity = 1;
    }, 200);
  });

  // --- CHRISTMAS TREE CANVAS ---
  const canvas = document.getElementById('treeCanvas');
  const ctx = canvas.getContext('2d');
  let stars = [], particles = [];
  const STAR_COUNT = 450;

  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    initStars();
  }
  window.addEventListener('resize', resize);
  resize();

  function initStars() {
    stars = [];
    const centerX = canvas.width / 2, centerY = canvas.height / 2;
    const treeH = Math.min(canvas.height * 0.7, 500);
    for (let i = 0; i < STAR_COUNT; i++) {
      const p = i / STAR_COUNT;
      const theta = Math.random() * Math.PI * 2;
      const r = Math.random() * (p * treeH * 0.4);
      stars.push({
        baseX: centerX, baseY: centerY - treeH/2 + p * treeH,
        baseTheta: theta, r: r,
        x: 0, y: 0, vx: 0, vy: 0,
        hue: 40 + Math.random() * 20,
        size: 1 + Math.random() * 2
      });
    }
    // Top Star
    stars.push({ isTop: true, baseX: centerX, baseY: centerY - treeH/2 - 20, size: 8, hue: 50 });
  }

  function createExplosion(x, y, count) {
    for (let i = 0; i < count; i++) {
      const ang = Math.random() * Math.PI * 2;
      const vel = 2 + Math.random() * 4;
      particles.push({ x, y, vx: Math.cos(ang) * vel, vy: Math.sin(ang) * vel, life: 1, hue: Math.random() * 360 });
    }
  }

  function animate() {
    ctx.fillStyle = '#0a0a0a';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    const time = Date.now() * 0.0005;

    // Particles
    particles.forEach((p, i) => {
      p.x += p.vx; p.y += p.vy; p.vy += 0.1; p.life -= 0.02;
      if (p.life <= 0) particles.splice(i, 1);
      ctx.fillStyle = `hsla(${p.hue}, 100%, 50%, ${p.life})`;
      ctx.beginPath(); ctx.arc(p.x, p.y, 3 * p.life, 0, Math.PI * 2); ctx.fill();
    });

    // Stars
    stars.forEach(s => {
      if (!s.isTop) {
        const angle = s.baseTheta + time;
        const targetX = s.baseX + Math.cos(angle) * s.r;
        const targetY = s.baseY + Math.sin(angle) * s.r * 0.2;
        s.x += (targetX - s.x) * 0.1;
        s.y += (targetY - s.y) * 0.1;
      } else {
        s.x = s.baseX; s.y = s.baseY;
      }

      ctx.shadowBlur = s.isTop ? 20 : 5;
      ctx.shadowColor = `hsl(${s.hue}, 100%, 50%)`;
      ctx.fillStyle = `hsl(${s.hue}, 100%, ${s.isTop ? 70 : 50}%)`;
      ctx.beginPath(); ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2); ctx.fill();
    });
    requestAnimationFrame(animate);
  }
  animate();

  // --- CURSOR ---
  const cur = document.querySelector('.cursor');
  window.addEventListener('mousemove', e => {
    cur.style.left = e.clientX + 'px';
    cur.style.top = e.clientY + 'px';
  });

  // --- SNOW ---
  setInterval(() => {
    const s = document.createElement('div');
    s.className = 'snowflake';
    const sz = 2 + Math.random() * 4;
    s.style.width = sz + 'px'; s.style.height = sz + 'px';
    s.style.left = Math.random() * 100 + '%';
    s.style.setProperty('--drift', (Math.random() - 0.5) * 100 + 'px');
    s.style.animationDuration = (4 + Math.random() * 3) + 's';
    document.getElementById('snowOverlay').appendChild(s);
    setTimeout(() => s.remove(), 7000);
  }, 200);

  canvas.addEventListener('click', e => createExplosion(e.clientX, e.clientY, 20));
</script>
</body>
</html>
